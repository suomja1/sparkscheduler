<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
    <head th:replace="layout :: head ('Kirjaudu')" />
    <body class="container-fluid">
        <header th:replace="layout :: header" />
        
        <h4>Kirjaudu sisään</h4>
        
<!--        Implementing if-else-chain the ugly way...-->
        <p th:if="${authenticationFailed}" class="text-warning">Sisäänkirjautuminen epäonnistui.</p>
        <p th:if="${not authenticationFailed and authenticationSucceeded}" class="text-success">Sisäänkirjautuminen onnistui.</p>
        <p th:if="${not authenticationFailed and not authenticationSucceeded and loggedOut}" class="text-info">Kirjauduttu ulos.</p>
        
        <form class="form-horizontal" method="post"  th:action="@{~/login}">
            <div th:replace="layout :: usernameInput"/>
            <div th:replace="layout :: passwordInput"/>
            
            <div th:if="${loginRedirect}">
                <input type="hidden" name="loginRedirect" value="${loginRedirect}"/>
            </div>
            
            <div th:replace="layout :: submitButton ('Kirjaudu')"/>
        </form>
    </body>
</html>